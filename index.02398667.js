!function(){const e={days:document.querySelector(".timer__days"),hours:document.querySelector(".timer__hours"),minutes:document.querySelector(".timer__minutes"),seconds:document.querySelector(".timer__seconds")},t="July 16 2021 17:00:00";function o(e,t){const o=function(e){const t=Date.parse(e)-Date.parse(new Date),o=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),n=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:n,minutes:r,seconds:o}}(t);e.days.innerHTML=o.days,e.hours.innerHTML=o.hours,e.minutes.innerHTML=o.minutes,e.seconds.innerHTML=o.seconds,o.total<=0&&clearInterval(timeInterval)}o(e,t),setInterval(o,1e3,e,t);const r=document.forms.form,n=r.elements.submit,s=document.querySelector(".popup__error"),c=s.querySelector(".popup__button"),i=document.querySelector(".popup__yes"),a=i.querySelector(".popup__button"),u=document.querySelector(".popup__no"),l=u.querySelector(".popup__button"),d=document.querySelector(".circle-preloader__container"),m=new class{constructor(e){this.form=e}checkInputValidity(e,t){let o=!0;return e.validity.valueMissing?(o=!1,this.addError(t),t.textContent="Пожалуйста, заполните поле"):(this.removeError(t),t.textContent=""),o}setSubmitButtonState(e,t){!0===t?e.classList.remove("form__button_disabled"):e.classList.add("form__button_disabled")}chooseButton(){return Array.from(this.form.elements).find((e=>e.classList.contains("form__button")))}addError(e){e.classList.add("form__error_active")}removeError(e){e.classList.remove("form__error_active")}chooseError(){const e=[];return Array.from(this.form.elements).forEach((t=>{t.classList.contains("form__input")&&e.push(t.nextElementSibling)})),e}checkValid(){let e=!0;return this.button=this.chooseButton(),Array.from(form.elements).forEach((t=>{if(t.classList.contains("form__input")){this.checkInputValidity(t,t.nextElementSibling)||(e=!1),this.setSubmitButtonState(this.button,e),t.addEventListener("focus",(()=>{const e=this.chooseError();this.removeError(e[0]),this.removeError(e[1]),this.setSubmitButtonState(this.button,!0)}))}})),e}}(r);function _(e,t){e.classList.remove("circle-preloader__container_active"),t.classList.remove("form__arrea_not-active")}function p(e,t){e.classList.add("popup_is-opened"),t.addEventListener("click",(function(){e.classList.remove("popup_is-opened")}))}n.addEventListener("click",(e=>{e.preventDefault(),m.checkValid()&&function(e){!function(e,t){e.classList.add("circle-preloader__container_active"),t.classList.add("form__arrea_not-active")}(d,e);const t=e.elements.name.value,o=e.elements.secondName.value,r=e.elements.presence.value,n={name:t,secondName:o,presence:r};e.reset(),fetch("https://sheet.best/api/sheets/f71febad-82d0-45bc-9317-f6c80290f14a",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>{_(d,e),"yes"===r?p(i,a):p(u,l)})).catch((t=>{_(d,e),p(s,c)}))}(r)})),window.onload=function(){setTimeout((function(){document.querySelector(".page").classList.add("page_loaded"),document.querySelector(".circle-preloader__container_page").classList.remove("circle-preloader__container_page_active")}),1500)}}();
//# sourceMappingURL=index.02398667.js.map
