{"mappings":"kBAWMA,EAAAA,CAASC,KARFC,SAASC,cAAc,gBAQfC,MANPF,SAASC,cAAc,iBAMTE,QAJZH,SAASC,cAAc,mBAIFG,QAFrBJ,SAASC,cAAc,oBAKjCI,EAAU,wBAahB,SAAAC,EAAqBC,EAAMC,SACnBC,EAXR,SAA0BD,SAClBE,EAAQC,KAAKC,MAAMJ,GAAWG,KAAKC,MAAAA,IAAUD,MAC7CP,EAAUS,KAAKC,MAAQJ,EAAM,IAAQ,IACrCP,EAAUU,KAAKC,MAAQJ,EAAM,IAAK,GAAM,IACxCR,EAAQW,KAAKC,MAAQJ,EAAAA,KAAsB,WAExCA,MAAAA,EAAOX,KADHc,KAAKC,MAAOJ,EAAAA,OACHR,MAAAA,EAAOC,QAAAA,EAASC,QAAAA,GAKzBW,CAAiBP,GAC9BD,EAAKR,KAAKiB,UAAYP,EAAKV,KAC3BQ,EAAKL,MAAMc,UAAYP,EAAKP,MAC5BK,EAAKJ,QAAQa,UAAYP,EAAKN,QAC9BI,EAAKH,QAAQY,UAAYP,EAAKL,QAE3BK,EAAKC,OAAO,GACbO,cAAcC,cAIlBZ,EAAYR,EAAMO,GAClBc,YAAYb,EAAa,IAAMR,EAAMO,SAK/Be,EAAOpB,SAASqB,MAAMC,KACtBC,EAASH,EAAKI,SAASC,OAEvBC,EAAa1B,SAASC,cAAc,iBACpC0B,EAAmBD,EAAWzB,cAAc,kBAE5C2B,EAAW5B,SAASC,cAAc,eAClC4B,EAAiBD,EAAS3B,cAAc,kBAExC6B,EAAU9B,SAASC,cAAc,cACjC8B,EAAgBD,EAAQ7B,cAAc,kBAE5C,SAAA+B,EAAmBC,EAAOC,GACxBD,EAAME,UAAUC,IAAI,mBAMpBF,EAAOG,iBAAiB,SAJxB,WACEJ,EAAME,UAAUG,OAAO,sBAiC3Bf,EAAOc,iBAAiB,SAAUE,IAChCA,EAAMC,iBA5BR,SAAkBlB,SACVmB,EAAOnB,EAAKE,SAASiB,KAAKC,MAC1BC,EAAarB,EAAKE,SAASmB,WAAWD,MACtCE,EAAWtB,EAAKE,SAASoB,SAASF,MAElCG,EAAAA,CAASJ,KAAAA,EAAME,WAAAA,EAAYC,SAAAA,GAEjCE,MAAM,qEAAA,CACJC,OAAQ,OACRC,QAAAA,CACEC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEpBQ,MAAMC,IACLhC,EAAKiC,QACY,QAAbX,EACFZ,EAAUJ,EAAUC,GAEpBG,EAAUF,EAASC,MAGtByB,OAAOC,IACNzB,EAAUN,EAAYC,MAM1B+B,CAAStC","sources":["./src/js/index.js"],"sourcesContent":["// Таймер обратного отсчета\r\n\r\n// Дни\r\nconst days = document.querySelector('.timer__days');\r\n// Часы\r\nconst hours = document.querySelector('.timer__hours');\r\n// Минуты\r\nconst minutes = document.querySelector('.timer__minutes');\r\n// Секунды\r\nconst seconds = document.querySelector('.timer__seconds');\r\n\r\nconst date = { days, hours, minutes, seconds };\r\n\r\n// Конечная дата\r\nconst endtime = 'July 16 2021 17:00:00'\r\n\r\n// Считаем оставшееся время\r\nfunction getTimeRemaining(endtime){\r\n  const total = Date.parse(endtime) - Date.parse(new Date());\r\n  const seconds = Math.floor( (total/1000) % 60 );\r\n  const minutes = Math.floor( (total/1000/60) % 60 );\r\n  const hours = Math.floor( (total/(1000*60*60)) % 24 );\r\n  const days = Math.floor( total/(1000*60*60*24) );\r\n  return { total, days, hours, minutes, seconds };\r\n}\r\n\r\n//Обновление и отображание таймера\r\nfunction updateTimer(date, endtime) {\r\n  const time = getTimeRemaining(endtime);\r\n  date.days.innerHTML = time.days;\r\n  date.hours.innerHTML = time.hours;\r\n  date.minutes.innerHTML = time.minutes;\r\n  date.seconds.innerHTML = time.seconds;\r\n\r\n  if(time.total<=0){\r\n    clearInterval(timeInterval);\r\n  }\r\n}\r\n\r\nupdateTimer(date, endtime);\r\nsetInterval(updateTimer, 1000, date, endtime);\r\n\r\n\r\n// Форма\r\n\r\nconst form = document.forms.form;\r\nconst button = form.elements.submit;\r\n\r\nconst popupError = document.querySelector('.popup__error');\r\nconst popupButtonError = popupError.querySelector('.popup__button')\r\n\r\nconst popupYes = document.querySelector('.popup__yes');\r\nconst popupButtonYes = popupYes.querySelector('.popup__button');\r\n\r\nconst popupNo = document.querySelector('.popup__no');\r\nconst popupButtonNo = popupNo.querySelector('.popup__button');\r\n\r\nfunction openPopup(popup, button) {\r\n  popup.classList.add('popup_is-opened');\r\n  \r\n  function closePopup() {\r\n    popup.classList.remove('popup_is-opened');\r\n  }\r\n\r\n  button.addEventListener('click', closePopup);\r\n}\r\n\r\nfunction sendForm(form) {\r\n  const name = form.elements.name.value;\r\n  const secondName = form.elements.secondName.value;\r\n  const presence = form.elements.presence.value;\r\n\r\n  const data = { name, secondName, presence};\r\n\r\n  fetch('https://sheet.best/api/sheets/f71febad-82d0-45bc-9317-f6c80290f14a', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n    .then((res) => {\r\n      form.reset();\r\n      if (presence === \"yes\") {\r\n        openPopup(popupYes, popupButtonYes);\r\n      } else {\r\n        openPopup(popupNo, popupButtonNo)\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      openPopup(popupError, popupButtonError);\r\n    });\r\n}\r\n\r\nbutton.addEventListener('click', (event) => {\r\n  event.preventDefault();\r\n  sendForm(form);\r\n});"],"names":["$f6dfaefb9e5b052f09219a53921da9fa$var$date","days","document","querySelector","hours","minutes","seconds","$f6dfaefb9e5b052f09219a53921da9fa$var$endtime","$f6dfaefb9e5b052f09219a53921da9fa$var$updateTimer","date","endtime","time","total","Date","parse","Math","floor","$f6dfaefb9e5b052f09219a53921da9fa$var$getTimeRemaining","innerHTML","clearInterval","timeInterval","setInterval","$f6dfaefb9e5b052f09219a53921da9fa$var$form","forms","form","$f6dfaefb9e5b052f09219a53921da9fa$var$button","elements","submit","$f6dfaefb9e5b052f09219a53921da9fa$var$popupError","$f6dfaefb9e5b052f09219a53921da9fa$var$popupButtonError","$f6dfaefb9e5b052f09219a53921da9fa$var$popupYes","$f6dfaefb9e5b052f09219a53921da9fa$var$popupButtonYes","$f6dfaefb9e5b052f09219a53921da9fa$var$popupNo","$f6dfaefb9e5b052f09219a53921da9fa$var$popupButtonNo","$f6dfaefb9e5b052f09219a53921da9fa$var$openPopup","popup","button","classList","add","addEventListener","remove","event","preventDefault","name","value","secondName","presence","data","fetch","method","headers","Content-Type","body","JSON","stringify","then","res","reset","catch","err","$f6dfaefb9e5b052f09219a53921da9fa$var$sendForm"],"version":3,"file":"index.02398667.js.map"}